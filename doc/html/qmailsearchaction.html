<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- qmailserviceaction.cpp -->
<head>
  <title>QMailSearchAction Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a></td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">QMailSearchAction Class Reference</h1>
<p>The QMailSearchAction class provides the interface for identifying messages that match a set of search criteria. <a href="#details">More...</a></p>
<pre>    #include &lt;QMailSearchAction&gt;</pre><p><b>This class is under development and is subject to change.</b></p>
<p>Inherits <a href="qmailserviceaction.html">QMailServiceAction</a>.</p>
<ul>
<li><a href="qmailsearchaction-members.html">List of all members, including inherited members</a></li>
</ul>
<hr />
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">enum </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#SearchSpecification-enum">SearchSpecification</a></b> { Local, Remote }</td></tr>
</table>
<hr />
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#QMailSearchAction">QMailSearchAction</a></b> ( QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QMailMessageIdList </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#matchingMessageIds">matchingMessageIds</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#messagesCount">messagesCount</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#remainingMessagesCount">remainingMessagesCount</a></b> () const</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>5 public functions inherited from <a href="qmailserviceaction.html#public-functions">QMailServiceAction</a></li>
<li><div bar="2" class="fn"></div>29 public functions inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#public-functions">QObject</a></li>
</ul>
<hr />
<a name="public-slots"></a>
<h2>Public Slots</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">virtual void </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#cancelOperation">cancelOperation</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#countMessages">countMessages</a></b> ( const QMailMessageKey &amp; <i>filter</i>, const QString &amp; <i>bodyText</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#searchMessages">searchMessages</a></b> ( const QMailMessageKey &amp; <i>filter</i>, const QString &amp; <i>bodyText</i>, SearchSpecification <i>spec</i>, const QMailMessageSortKey &amp; <i>sort</i> = QMailMessageSortKey() )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#searchMessages-2">searchMessages</a></b> ( const QMailMessageKey &amp; <i>filter</i>, const QString &amp; <i>bodyText</i>, SearchSpecification <i>spec</i>, quint64 <i>limit</i>, const QMailMessageSortKey &amp; <i>sort</i> = QMailMessageSortKey() )</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>1 public slot inherited from <a href="qmailserviceaction.html#public-slots">QMailServiceAction</a></li>
<li><div bar="2" class="fn"></div>1 public slot inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#public-slots">QObject</a></li>
</ul>
<hr />
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#messageIdsMatched">messageIdsMatched</a></b> ( const QMailMessageIdList &amp; <i>ids</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#messagesCount-2">messagesCount</a></b> ( uint <i>count</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#remainingMessagesCount-2">remainingMessagesCount</a></b> ( uint <i>count</i> )</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>4 signals inherited from <a href="qmailserviceaction.html#signals">QMailServiceAction</a></li>
<li><div bar="2" class="fn"></div>1 signal inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#signals">QObject</a></li>
</ul>
<hr />
<a name="static-public-members"></a>
<h2>Static Public Members</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">QMailMessageKey </td><td class="memItemRight" valign="bottom"><b><a href="qmailsearchaction.html#temporaryKey">temporaryKey</a></b> ()</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>4 static public members inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#static-public-members">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"></div>1 property inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#properties">QObject</a></li>
<li><div class="fn"></div>1 public type inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#public-variables">QObject</a></li>
<li><div class="fn"></div>2 protected functions inherited from <a href="qmailserviceaction.html#protected-functions">QMailServiceAction</a></li>
<li><div class="fn"></div>7 protected functions inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"></div>2 protected variables inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QMailSearchAction class provides the interface for identifying messages that match a set of search criteria.</p>
<p>QMailSearchAction provides the mechanism for messaging clients to request that the message server perform a search for messages that match the supplied search criteria. For criteria pertaining to message meta data, the message server will search within the locally held meta data. For a textual content criterion, the message server will search locally where the message content is held locally, and on the external server for messages whose content has not been retrieved (provided the external service provides a search facility).</p>
<p>A QMailSearchAction instance supports only a single request at any time. Attempting to initiate an operation on a QMailSearchAction instace while another operation is already in progress for that action is not supported.</p>
<p>An application may however use multiple QMailSearchAction instances to send independent requests concurrently. Each <a href="qmailserviceaction.html">QMailServiceAction</a> instance will report only the changes pertaining to the request that instance delivered. Whether or not concurrent requests are concurrently serviced by the messageserver depends on whether those requests must be serviced by the same <a href="qmailmessageservice.html">QMailMessageService</a> instance.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="SearchSpecification-enum"></a>enum QMailSearchAction::SearchSpecification</h3>
<p>This enum type is specify the form of search that the message server should perform.</p>
<p><table class="valuelist" border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QMailSearchAction::Local</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">Only the message data stored on the local device should be searched.</td></tr>
<tr><td valign="top"><tt>QMailSearchAction::Remote</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">The search should be extended to message data stored on external servers.</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QMailSearchAction"></a>QMailSearchAction::QMailSearchAction ( <a href="http://doc.trolltech.com/4.5/qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new search action object with the supplied <i>parent</i>.</p>
<h3 class="fn"><a name="cancelOperation"></a>void QMailSearchAction::cancelOperation ()&nbsp;&nbsp;<tt> [virtual slot]</tt></h3>
<p>Reimplemented from <a href="qmailserviceaction.html#cancelOperation">QMailServiceAction::cancelOperation</a>().</p>
<p>Attempts to cancel the last requested search operation.</p>
<h3 class="fn"><a name="countMessages"></a>void QMailSearchAction::countMessages ( const <a href="qmailmessagekey.html">QMailMessageKey</a> &amp; <i>filter</i>, const <a href="http://doc.trolltech.com/4.5/qstring.html">QString</a> &amp; <i>bodyText</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server count all messages that match the criteria specified by <i>filter</i>, both local and on remote servers. If <i>bodyText</i> is non-empty then messages that contain the supplied text in their content will also be matched and counted.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<h3 class="fn"><a name="matchingMessageIds"></a><a href="qmailmessageid.html#QMailMessageIdList-typedef">QMailMessageIdList</a> QMailSearchAction::matchingMessageIds () const</h3>
<p>Returns the list of message identifiers found to match the search criteria. Unless <a href="qmailserviceaction.html#activity">activity</a>() returns <a href="qmailserviceaction.html#Activity-enum">Successful</a>, an empty list is returned.</p>
<h3 class="fn"><a name="messageIdsMatched"></a>void QMailSearchAction::messageIdsMatched ( const <a href="qmailmessageid.html#QMailMessageIdList-typedef">QMailMessageIdList</a> &amp; <i>ids</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when the messages in <i>ids</i> are discovered to match the criteria of the search in progress.</p>
<p>See also <a href="qmailsearchaction.html#matchingMessageIds">matchingMessageIds</a>().</p>
<h3 class="fn"><a name="messagesCount"></a><a href="http://doc.trolltech.com/4.5/qtglobal.html#uint-typedef">uint</a> QMailSearchAction::messagesCount () const</h3>
<p>Returns the count of matching messages on the remote server.</p>
<h3 class="fn"><a name="messagesCount-2"></a>void QMailSearchAction::messagesCount ( <a href="http://doc.trolltech.com/4.5/qtglobal.html#uint-typedef">uint</a> <i>count</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal emits the <i>count</i> of matching messages on the remote server.</p>
<p>Only emitted for remote searches.</p>
<p>See also <a href="qmailsearchaction.html#messagesCount">messagesCount</a>().</p>
<h3 class="fn"><a name="remainingMessagesCount"></a><a href="http://doc.trolltech.com/4.5/qtglobal.html#uint-typedef">uint</a> QMailSearchAction::remainingMessagesCount () const</h3>
<p>Returns the count of messages remaining on the remote server; that is the count of matching messages that will not be retrieved to the device.</p>
<h3 class="fn"><a name="remainingMessagesCount-2"></a>void QMailSearchAction::remainingMessagesCount ( <a href="http://doc.trolltech.com/4.5/qtglobal.html#uint-typedef">uint</a> <i>count</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal emits the <i>count</i> of messages remaining on the remote server; that is the count of matching messages that will not be retrieved to the device.</p>
<p>Only emitted for remote searches.</p>
<p>See also <a href="qmailsearchaction.html#remainingMessagesCount">remainingMessagesCount</a>().</p>
<h3 class="fn"><a name="searchMessages"></a>void QMailSearchAction::searchMessages ( const <a href="qmailmessagekey.html">QMailMessageKey</a> &amp; <i>filter</i>, const <a href="http://doc.trolltech.com/4.5/qstring.html">QString</a> &amp; <i>bodyText</i>, <a href="qmailsearchaction.html#SearchSpecification-enum">SearchSpecification</a> <i>spec</i>, const <a href="qmailmessagesortkey.html">QMailMessageSortKey</a> &amp; <i>sort</i> = QMailMessageSortKey() )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server identify all messages that match the criteria specified by <i>filter</i>. If <i>bodyText</i> is non-empty then messages that contain the supplied text in their content will also be identified.</p>
<p>If <i>spec</i> is <a href="qmailsearchaction.html#SearchSpecification-enum">Remote</a>, then the device must be, online and an external service will be requested to perform the search for messages not stored locally.</p>
<p>If <i>sort</i> is not empty, the external service will return matching messages in the ordering indicated by the sort criterion if possible.</p>
<h3 class="fn"><a name="searchMessages-2"></a>void QMailSearchAction::searchMessages ( const <a href="qmailmessagekey.html">QMailMessageKey</a> &amp; <i>filter</i>, const <a href="http://doc.trolltech.com/4.5/qstring.html">QString</a> &amp; <i>bodyText</i>, <a href="qmailsearchaction.html#SearchSpecification-enum">SearchSpecification</a> <i>spec</i>, <a href="http://doc.trolltech.com/4.5/qtglobal.html#quint64-typedef">quint64</a> <i>limit</i>, const <a href="qmailmessagesortkey.html">QMailMessageSortKey</a> &amp; <i>sort</i> = QMailMessageSortKey() )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server identify all messages that match the criteria specified by <i>filter</i>. If <i>bodyText</i> is non-empty then messages that contain the supplied text in their content will also be identified.</p>
<p>If <i>spec</i> is <a href="qmailsearchaction.html#SearchSpecification-enum">Remote</a>, then the device must be, online and an external service will be requested to perform the search for messages not stored locally.</p>
<p>A maximum of <i>limit</i> messages will be retrieved from the remote server.</p>
<p>If <i>sort</i> is not empty, the external service will return matching messages in the ordering indicated by the sort criterion if possible.</p>
<h3 class="fn"><a name="temporaryKey"></a><a href="qmailmessagekey.html">QMailMessageKey</a> QMailSearchAction::temporaryKey ()&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns a key matching messages that are temporary messages existing only as the result of a search action.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2010 QtSoftware</td>
<td align="right"><div align="right">Messaging Framework</div></td>
</tr></table></div></address></body>
</html>
