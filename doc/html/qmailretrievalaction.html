<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- qmailserviceaction.cpp -->
<head>
  <title>QMailRetrievalAction Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a></td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">QMailRetrievalAction Class Reference</h1>
<p>The QMailRetrievalAction class provides the interface for retrieving messages from external message services. <a href="#details">More...</a></p>
<pre>    #include &lt;QMailRetrievalAction&gt;</pre><p><b>This class is under development and is subject to change.</b></p>
<p>Inherits <a href="qmailserviceaction.html">QMailServiceAction</a>.</p>
<ul>
<li><a href="qmailretrievalaction-members.html">List of all members, including inherited members</a></li>
</ul>
<hr />
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">enum </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#RetrievalSpecification-enum">RetrievalSpecification</a></b> { Flags, MetaData, Content, Auto }</td></tr>
</table>
<hr />
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#QMailRetrievalAction">QMailRetrievalAction</a></b> ( QObject * <i>parent</i> = 0 )</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>5 public functions inherited from <a href="qmailserviceaction.html#public-functions">QMailServiceAction</a></li>
<li><div bar="2" class="fn"></div>29 public functions inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#public-functions">QObject</a></li>
</ul>
<hr />
<a name="public-slots"></a>
<h2>Public Slots</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#exportUpdates">exportUpdates</a></b> ( const QMailAccountId &amp; <i>accountId</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#retrieveAll">retrieveAll</a></b> ( const QMailAccountId &amp; <i>accountId</i> )&nbsp;&nbsp;<tt> (deprecated)</tt></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#retrieveFolderList">retrieveFolderList</a></b> ( const QMailAccountId &amp; <i>accountId</i>, const QMailFolderId &amp; <i>folderId</i>, bool <i>descending</i> = true )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#retrieveMessageList">retrieveMessageList</a></b> ( const QMailAccountId &amp; <i>accountId</i>, const QMailFolderId &amp; <i>folderId</i>, uint <i>minimum</i> = 0, const QMailMessageSortKey &amp; <i>sort</i> = QMailMessageSortKey() )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#retrieveMessageLists">retrieveMessageLists</a></b> ( const QMailAccountId &amp; <i>accountId</i>, const QMailFolderIdList &amp; <i>folderIds</i>, uint <i>minimum</i> = 0, const QMailMessageSortKey &amp; <i>sort</i> = QMailMessageSortKey() )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#retrieveMessagePart">retrieveMessagePart</a></b> ( const QMailMessagePart::Location &amp; <i>partLocation</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#retrieveMessagePartRange">retrieveMessagePartRange</a></b> ( const QMailMessagePart::Location &amp; <i>partLocation</i>, uint <i>minimum</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#retrieveMessageRange">retrieveMessageRange</a></b> ( const QMailMessageId &amp; <i>messageId</i>, uint <i>minimum</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#retrieveMessages">retrieveMessages</a></b> ( const QMailMessageIdList &amp; <i>messageIds</i>, RetrievalSpecification <i>spec</i> = MetaData )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#synchronize">synchronize</a></b> ( const QMailAccountId &amp; <i>accountId</i>, uint <i>minimum</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailretrievalaction.html#synchronizeAll">synchronizeAll</a></b> ( const QMailAccountId &amp; <i>accountId</i> )&nbsp;&nbsp;<tt> (deprecated)</tt></td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>1 public slot inherited from <a href="qmailserviceaction.html#public-slots">QMailServiceAction</a></li>
<li><div bar="2" class="fn"></div>1 public slot inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#public-slots">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"></div>1 property inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#properties">QObject</a></li>
<li><div class="fn"></div>4 signals inherited from <a href="qmailserviceaction.html#signals">QMailServiceAction</a></li>
<li><div class="fn"></div>1 signal inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#signals">QObject</a></li>
<li><div class="fn"></div>1 public type inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#public-variables">QObject</a></li>
<li><div class="fn"></div>4 static public members inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"></div>2 protected functions inherited from <a href="qmailserviceaction.html#protected-functions">QMailServiceAction</a></li>
<li><div class="fn"></div>7 protected functions inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"></div>2 protected variables inherited from <a href="http://doc.trolltech.com/4.5/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QMailRetrievalAction class provides the interface for retrieving messages from external message services.</p>
<p>QMailRetrievalAction provides the mechanism for messaging clients to request that the message server retrieve messages from external services. The retrieval action object reports on the progress and outcome of its activities via the signals inherited from <a href="qmailserviceaction.html">QMailServiceAction</a>.</p>
<p>A range of functions are available to support varying client operations:</p>
<p>The <a href="qmailretrievalaction.html#retrieveFolderList">retrieveFolderList</a>() function allows a client to retrieve the list of folders available for an account. The <a href="qmailretrievalaction.html#retrieveMessageList">retrieveMessageList</a>() and <a href="qmailretrievalaction.html#retrieveMessageLists">retrieveMessageLists</a>() functions allows a client to retrieve a subset of messages available for an account or folder.</p>
<p>The <a href="qmailretrievalaction.html#retrieveMessages">retrieveMessages</a>() function allows a client to retrieve the flags, meta data or content of a specific list of messages.</p>
<p>The <a href="qmailretrievalaction.html#retrieveMessageRange">retrieveMessageRange</a>() functions allows a portion of a message's content to be retrieved, rather than the entire content data.</p>
<p>The <a href="qmailretrievalaction.html#retrieveMessagePart">retrieveMessagePart</a>() function allows a specific part of a multi-part message to be retrieved. The <a href="qmailretrievalaction.html#retrieveMessagePartRange">retrieveMessagePartRange</a>() function allows a portion of a specific part of a multi-part message to be retrieved.</p>
<p>The <a href="qmailretrievalaction.html#exportUpdates">exportUpdates</a>() function allows a client to push local changes such as message-read notifications and pending disconnected operations to the external server.</p>
<p>All of these functions require the device to be online, they may initiate communication with external servers.</p>
<p>A QMailRetrievalAction instance supports only a single request at any time. Attempting to initiate an operation on a QMailRetrievalAction instace while another operation is already in progress for that action is not supported.</p>
<p>An application may however use multiple QMailRetrievalAction instances to send independent requests concurrently. Each <a href="qmailserviceaction.html">QMailServiceAction</a> instance will report only the changes pertaining to the request that instance delivered. Whether or not concurrent requests are concurrently serviced by the messageserver depends on whether those requests must be serviced by the same <a href="qmailmessageservice.html">QMailMessageService</a> instance.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="RetrievalSpecification-enum"></a>enum QMailRetrievalAction::RetrievalSpecification</h3>
<p>This enum type is specify the form of retrieval that the message server should perform.</p>
<p><table class="valuelist" border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QMailRetrievalAction::Flags</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">Changes to the state of the message should be retrieved.</td></tr>
<tr><td valign="top"><tt>QMailRetrievalAction::MetaData</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">Only the meta data of the message should be retrieved.</td></tr>
<tr><td valign="top"><tt>QMailRetrievalAction::Content</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">The entire content of the message should be retrieved.</td></tr>
<tr><td valign="top"><tt>QMailRetrievalAction::Auto</tt></td><td align="center" valign="top"><tt>3</tt></td><td valign="top">Account specific settings are used during synchronization. For example, this may mean skipping the attachments.</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QMailRetrievalAction"></a>QMailRetrievalAction::QMailRetrievalAction ( <a href="http://doc.trolltech.com/4.5/qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new retrieval action object with the supplied <i>parent</i>.</p>
<h3 class="fn"><a name="exportUpdates"></a>void QMailRetrievalAction::exportUpdates ( const <a href="qmailaccountid.html">QMailAccountId</a> &amp; <i>accountId</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server update the external server with changes that have been effected on the local device for account <i>accountId</i>. Local changes to <a href="qmailmessagemetadata.html#Read-var">QMailMessage::Read</a>, and <a href="qmailmessagemetadata.html#Important-var">QMailMessage::Important</a> message status flags should be exported to the external server, messages that have been removed using the <a href="qmailstore.html#MessageRemovalOption-enum">QMailStore::CreateRemovalRecord</a> option should be removed from the external server, and any flag, copy or move operations that have been applied using <a href="qmaildisconnected.html">QMailDisconnected</a> should be applied to the external server.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<h3 class="fn"><a name="retrieveAll"></a>void QMailRetrievalAction::retrieveAll ( const <a href="qmailaccountid.html">QMailAccountId</a> &amp; <i>accountId</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>This function is deprecated.</p>
<p>Requests that the message server retrieve all folders and meta data for messages available for the account <i>accountId</i>.</p>
<p>All folders within the account will be discovered and searched for child folders. The <a href="qmailfolder.html#serverCount">QMailFolder::serverCount</a>(), <a href="qmailfolder.html#serverUnreadCount">QMailFolder::serverUnreadCount</a>() and <a href="qmailfolder.html#serverUndiscoveredCount">QMailFolder::serverUndiscoveredCount</a>() properties will be updated for each folder in the account.</p>
<p>Meta data will be retrieved for every message found in the account. New messages will be added to the mail store as they are retrieved, and marked with the <a href="qmailmessagemetadata.html#New-var">QMailMessage::New</a> status flag. Messages that are no longer available will be marked with the <a href="qmailmessagemetadata.html#Removed-var">QMailMessage::Removed</a> status flag.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<p>See also <a href="qmailretrievalaction.html#retrieveFolderList">retrieveFolderList</a>(), <a href="qmailretrievalaction.html#retrieveMessageList">retrieveMessageList</a>(), and <a href="qmailretrievalaction.html#retrieveMessageLists">retrieveMessageLists</a>().</p>
<h3 class="fn"><a name="retrieveFolderList"></a>void QMailRetrievalAction::retrieveFolderList ( const <a href="qmailaccountid.html">QMailAccountId</a> &amp; <i>accountId</i>, const <a href="qmailfolderid.html">QMailFolderId</a> &amp; <i>folderId</i>, bool <i>descending</i> = true )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server retrieve the list of folders available for the account <i>accountId</i>. If <i>folderId</i> is valid, only the identified folder is searched for child folders; otherwise the search begins at the root of the account. If <i>descending</i> is true, the search should also recursively search for child folders within folders discovered during the search.</p>
<p>The <a href="qmailfolder.html#serverCount">QMailFolder::serverCount</a>(), <a href="qmailfolder.html#serverUnreadCount">QMailFolder::serverUnreadCount</a>() and <a href="qmailfolder.html#serverUndiscoveredCount">QMailFolder::serverUndiscoveredCount</a>() properties will be updated for each folder that is searched for child folders; these properties are not updated for folders that are merely discovered by searching.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<p>See also <a href="qmailretrievalaction.html#retrieveMessageList">retrieveMessageList</a>() and <a href="qmailretrievalaction.html#retrieveMessageLists">retrieveMessageLists</a>().</p>
<h3 class="fn"><a name="retrieveMessageList"></a>void QMailRetrievalAction::retrieveMessageList ( const <a href="qmailaccountid.html">QMailAccountId</a> &amp; <i>accountId</i>, const <a href="qmailfolderid.html">QMailFolderId</a> &amp; <i>folderId</i>, <a href="http://doc.trolltech.com/4.5/qtglobal.html#uint-typedef">uint</a> <i>minimum</i> = 0, const <a href="qmailmessagesortkey.html">QMailMessageSortKey</a> &amp; <i>sort</i> = QMailMessageSortKey() )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server retrieve the list of messages available for the account <i>accountId</i>. If <i>folderId</i> is valid, then only messages within that folder should be retrieved; otherwise messages within all folders in the account should be retrieved, and the lastSynchronized() time of the account updated. If <i>minimum</i> is non-zero, then that value will be used to restrict the number of messages to be retrieved from each folder; otherwise, all messages will be retrieved.</p>
<p>If <i>sort</i> is not empty, the external service will report the discovered messages in the ordering indicated by the sort criterion, if possible. Services are not required to support this facility.</p>
<p>If a folder messages are being retrieved from contains at least <i>minimum</i> messages then the messageserver should ensure that at least <i>minimum</i> messages are available from the mail store for that folder; otherwise if the folder contains less than <i>minimum</i> messages the messageserver should ensure all the messages for that folder are available from the mail store. If a folder has messages locally available, then all previously undiscovered messages will be retrieved for that folder, even if that number exceeds <i>minimum</i>.</p>
<p>The <a href="qmailfolder.html#serverCount">QMailFolder::serverCount</a>(), <a href="qmailfolder.html#serverUnreadCount">QMailFolder::serverUnreadCount</a>() and <a href="qmailfolder.html#serverUndiscoveredCount">QMailFolder::serverUndiscoveredCount</a>() properties will be updated for each folder from which messages are retrieved.</p>
<p>New messages will be added to the mail store as they are discovered, and marked with the <a href="qmailmessagemetadata.html#New-var">QMailMessage::New</a> status flag. Messages that are present in the mail store but found to be no longer available are marked with the <a href="qmailmessagemetadata.html#Removed-var">QMailMessage::Removed</a> status flag.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<p>See also <a href="qmailaccount.html#lastSynchronized">QMailAccount::lastSynchronized</a>().</p>
<h3 class="fn"><a name="retrieveMessageLists"></a>void QMailRetrievalAction::retrieveMessageLists ( const <a href="qmailaccountid.html">QMailAccountId</a> &amp; <i>accountId</i>, const <a href="qmailfolderid.html#QMailFolderIdList-typedef">QMailFolderIdList</a> &amp; <i>folderIds</i>, <a href="http://doc.trolltech.com/4.5/qtglobal.html#uint-typedef">uint</a> <i>minimum</i> = 0, const <a href="qmailmessagesortkey.html">QMailMessageSortKey</a> &amp; <i>sort</i> = QMailMessageSortKey() )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server retrieve the list of messages available for the account <i>accountId</i>. If <i>folderIds</i> is not empty, then only messages within those folders should be retrieved and the lastSynchronized() time of the account updated; otherwise no messages should be retrieved, . If <i>minimum</i> is non-zero, then that value will be used to restrict the number of messages to be retrieved from each folder; otherwise, all messages will be retrieved.</p>
<p>If <i>sort</i> is not empty, the external service will report the discovered messages in the ordering indicated by the sort criterion, if possible. Services are not required to support this facility.</p>
<p>If a folder messages are being retrieved from contains at least <i>minimum</i> messages then the messageserver should ensure that at least <i>minimum</i> messages are available from the mail store for that folder; otherwise if the folder contains less than <i>minimum</i> messages the messageserver should ensure all the messages for that folder are available from the mail store. If a folder has messages locally available, then all previously undiscovered messages will be retrieved for that folder, even if that number exceeds <i>minimum</i>.</p>
<p>The <a href="qmailfolder.html#serverCount">QMailFolder::serverCount</a>(), <a href="qmailfolder.html#serverUnreadCount">QMailFolder::serverUnreadCount</a>() and <a href="qmailfolder.html#serverUndiscoveredCount">QMailFolder::serverUndiscoveredCount</a>() properties will be updated for each folder from which messages are retrieved.</p>
<p>New messages will be added to the mail store as they are discovered, and marked with the <a href="qmailmessagemetadata.html#New-var">QMailMessage::New</a> status flag. Messages that are present in the mail store but found to be no longer available are marked with the <a href="qmailmessagemetadata.html#Removed-var">QMailMessage::Removed</a> status flag.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<p>See also <a href="qmailaccount.html#lastSynchronized">QMailAccount::lastSynchronized</a>().</p>
<h3 class="fn"><a name="retrieveMessagePart"></a>void QMailRetrievalAction::retrieveMessagePart ( const <a href="qmailmessagepartcontainer-location.html">QMailMessagePart::Location</a> &amp; <i>partLocation</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server retrieve the message part that is indicated by the location <i>partLocation</i>.</p>
<p>The <a href="qmailfolder.html#serverCount">QMailFolder::serverCount</a>(), <a href="qmailfolder.html#serverUnreadCount">QMailFolder::serverUnreadCount</a>() and <a href="qmailfolder.html#serverUndiscoveredCount">QMailFolder::serverUndiscoveredCount</a>() properties will be updated for the folder from which the part is retrieved.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<h3 class="fn"><a name="retrieveMessagePartRange"></a>void QMailRetrievalAction::retrieveMessagePartRange ( const <a href="qmailmessagepartcontainer-location.html">QMailMessagePart::Location</a> &amp; <i>partLocation</i>, <a href="http://doc.trolltech.com/4.5/qtglobal.html#uint-typedef">uint</a> <i>minimum</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server retrieve a subset of the message part that is indicated by the location <i>partLocation</i>. The messageserver should ensure that at least <i>minimum</i> bytes are available from the mail store.</p>
<p>The total size of the part on the server is given by <a href="qmailmessagepart.html#contentDisposition">QMailMessagePart::contentDisposition</a>().size(), the amount of the part available locally is given by <a href="qmailmessagepartcontainer.html#body">QMailMessagePart::body</a>().length().</p>
<p>The <a href="qmailfolder.html#serverCount">QMailFolder::serverCount</a>(), <a href="qmailfolder.html#serverUnreadCount">QMailFolder::serverUnreadCount</a>() and <a href="qmailfolder.html#serverUndiscoveredCount">QMailFolder::serverUndiscoveredCount</a>() properties will be updated for the folder from which the part is retrieved.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<h3 class="fn"><a name="retrieveMessageRange"></a>void QMailRetrievalAction::retrieveMessageRange ( const <a href="qmailmessageid.html">QMailMessageId</a> &amp; <i>messageId</i>, <a href="http://doc.trolltech.com/4.5/qtglobal.html#uint-typedef">uint</a> <i>minimum</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server retrieve a subset of the message <i>messageId</i>, such that at least <i>minimum</i> bytes are available from the mail store.</p>
<p>The <a href="qmailfolder.html#serverCount">QMailFolder::serverCount</a>(), <a href="qmailfolder.html#serverUnreadCount">QMailFolder::serverUnreadCount</a>() and <a href="qmailfolder.html#serverUndiscoveredCount">QMailFolder::serverUndiscoveredCount</a>() properties will be updated for the folder from which the message is retrieved.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<h3 class="fn"><a name="retrieveMessages"></a>void QMailRetrievalAction::retrieveMessages ( const <a href="qmailmessageid.html#QMailMessageIdList-typedef">QMailMessageIdList</a> &amp; <i>messageIds</i>, <a href="qmailretrievalaction.html#RetrievalSpecification-enum">RetrievalSpecification</a> <i>spec</i> = MetaData )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Requests that the message server retrieve data regarding the messages identified by <i>messageIds</i>.</p>
<p>If <i>spec</i> is <a href="qmailretrievalaction.html#RetrievalSpecification-enum">QMailRetrievalAction::Flags</a>, then the message server should detect if the messages identified by <i>messageIds</i> have been marked as read or have been removed. Messages that have been read will be marked with the <a href="qmailmessagemetadata.html#ReadElsewhere-var">QMailMessage::ReadElsewhere</a> flag, and messages that have been removed will be marked with the <a href="qmailmessagemetadata.html#Removed-var">QMailMessage::Removed</a> status flag.</p>
<p>If <i>spec</i> is <a href="qmailretrievalaction.html#RetrievalSpecification-enum">QMailRetrievalAction::MetaData</a>, then the message server should retrieve the meta data of the each message listed in <i>messageIds</i>.</p>
<p>If <i>spec</i> is <a href="qmailretrievalaction.html#RetrievalSpecification-enum">QMailRetrievalAction::Content</a>, then the message server should retrieve the entirety of each message listed in <i>messageIds</i>.</p>
<p>The <a href="qmailfolder.html#serverCount">QMailFolder::serverCount</a>(), <a href="qmailfolder.html#serverUnreadCount">QMailFolder::serverUnreadCount</a>() and <a href="qmailfolder.html#serverUndiscoveredCount">QMailFolder::serverUndiscoveredCount</a>() properties will be updated for each folder from which messages are retrieved.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<h3 class="fn"><a name="synchronize"></a>void QMailRetrievalAction::synchronize ( const <a href="qmailaccountid.html">QMailAccountId</a> &amp; <i>accountId</i>, <a href="http://doc.trolltech.com/4.5/qtglobal.html#uint-typedef">uint</a> <i>minimum</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Essentially performs the same functions as calling <a href="qmailretrievalaction.html#exportUpdates">exportUpdates</a>(), <a href="qmailretrievalaction.html#retrieveFolderList">retrieveFolderList</a>() and <a href="qmailretrievalaction.html#retrieveMessageList">retrieveMessageList</a>() consecutively using the given <i>accountId</i> and <i>minimum</i>, but may perform optimizations such as retrieving the folder list at the same time as retrieving messages, and retrieving messages in multiple folder simultaneously by using multiple connections to the server.</p>
<p>On a successful synchronization the lastSynchronized() value of the account should be updated.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<p>See also <a href="qmailretrievalaction.html#exportUpdates">exportUpdates</a>(), <a href="qmailretrievalaction.html#retrieveMessageList">retrieveMessageList</a>(), <a href="qmailretrievalaction.html#retrieveFolderList">retrieveFolderList</a>(), and <a href="qmailaccount.html#lastSynchronized">QMailAccount::lastSynchronized</a>().</p>
<h3 class="fn"><a name="synchronizeAll"></a>void QMailRetrievalAction::synchronizeAll ( const <a href="qmailaccountid.html">QMailAccountId</a> &amp; <i>accountId</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>This function is deprecated.</p>
<p>Requests that the message server synchronize the set of known folder and message identifiers with those currently available for the account identified by <i>accountId</i>. Newly discovered messages should have their meta data retrieved, messages that have been removed locally using the <a href="qmailstore.html#MessageRemovalOption-enum">QMailStore::CreateRemovalRecord</a> option should be removed from the external server.</p>
<p>Changes to the <a href="qmailmessagemetadata.html#Read-var">QMailMessage::Read</a>, and <a href="qmailmessagemetadata.html#Important-var">QMailMessage::Important</a> status flags of a message should be exported to the external server, and the status flags of the message should be updated to reflect any changes to the message on the external server.</p>
<p>New messages will be added to the mail store as they are discovered, and marked with the <a href="qmailmessagemetadata.html#New-var">QMailMessage::New</a> status flag. Messages that are no longer available will be marked with the <a href="qmailmessagemetadata.html#Removed-var">QMailMessage::Removed</a> status flag.</p>
<p>The folder structure of the account will be synchronized with that available from the external server. The <a href="qmailfolder.html#serverCount">QMailFolder::serverCount</a>(), <a href="qmailfolder.html#serverUnreadCount">QMailFolder::serverUnreadCount</a>() and <a href="qmailfolder.html#serverUndiscoveredCount">QMailFolder::serverUndiscoveredCount</a>() properties will be updated for each folder.</p>
<p>This function requires the device to be online, it may initiate communication with external servers.</p>
<p>See also <a href="qmailretrievalaction.html#retrieveFolderList">retrieveFolderList</a>(), <a href="qmailretrievalaction.html#retrieveMessageList">retrieveMessageList</a>(), <a href="qmailretrievalaction.html#retrieveMessageLists">retrieveMessageLists</a>(), and <a href="qmailretrievalaction.html#exportUpdates">exportUpdates</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2010 QtSoftware</td>
<td align="right"><div align="right">Messaging Framework</div></td>
</tr></table></div></address></body>
</html>
